# Chapter 20. 스트림 처리의 기초

## 도입부

- 스트림 처리의 중요성 
   - 빅데이터 애플리케이션에서 스트림 처리는 핵심 기능이며, 기업들은 고객 활동 분석이나 머신러닝 모델 개선을 위해 이를 도입하고 있음.
   - chatgpt에서도 스트리밍 API가 매우 중요하다고 소개하고 있음.

- 아파치 스파크의 스트림 처리 지원  
   - 2012년에 **Spark Streaming**과 **DStream API**를 도입하여 `map`, `reduce` 같은 연산자로 스트림 데이터를 처리할 수 있도록 함.  
   - 많은 기업들이 대규모 실시간 애플리케이션을 위해 **DStream**을 사용하며, 시간당 테라바이트 이상의 데이터를 처리하는 경우도 많음.  

- DStream API의 한계
   - RDD API와 마찬가지로 DStream은 **자바나 파이썬 객체 기반**이라 최적화된 연산을 수행하는 데 제약이 있음.  

- 구조적 스트리밍(Structured Streaming) 도입
   - 2016년, **DataFrame과 Dataset 기반**의 **구조적 스트리밍(Structured Streaming)**이 추가됨.  
   - 더 높은 최적화가 가능하고, 코드 통합이 쉬워짐.  
   - **Spark 2.2** 버전에서 안정화되어 빠르게 확산됨.  



## **20.1 스트림 처리란**
- **스트림 처리(stream processing)**는 데이터를 **끊임없이 처리하여 결과를 생성**하는 방식.  
- 스트림 입력 데이터는 무한하며 시작과 끝이 정해져 있지 않음.  
- 스트림 데이터는 웹사이트 클릭, IoT 센서 데이터 등 **실시간 이벤트 기반**으로 들어옴.  
- 스트림 애플리케이션은 연속적으로 실행되며, 다양한 쿼리를 수행함.  
- 결과는 외부 **"sink"**에 저장될 수도 있음.

- 스트림 처리는 **배치 처리와 비교**할 수 있음.  
  - 배치 처리는 **고정된 데이터**를 처리하는 방식.  
  - 일반적인 배치 작업은 일정 주기로 실행되지만, **스트림 처리는 실시간으로 데이터를 지속적으로 분석**함.  

- 스트림 애플리케이션은 배치 작업처럼 정기적으로 실행되는 경우도 있음.  
  - 예를 들어, **스트림 데이터를 특정 시점에서 조회하는 경우도 가능**.

### **20.1.1 스트림 처리 사례**
- **스트림 처리를 활용하는 대표적인 사례 6가지**를 소개.

1. **통보와 알림**  
   - **연속적인 이벤트 감지** 후 특정 패턴이 감지되면 즉시 알림을 제공.  
   - 예) **물류 창고에서 특정 조건을 만족하면 즉시 직원에게 알림**을 보내는 시스템.  
   - 알림은 빠르게 전달될 필요가 있음.

2. **실시간 리포트**  
   - **기업 내 직원들이 실시간으로 데이터를 확인**할 수 있도록 스트리밍 시스템을 구축.  
   - 데이터는 지속적으로 업데이트됨.  
