# 1. 스파크란?

## 1.1 아파치 스파크 철학

- 간단한 데이터 읽기, SQL, 머신러닝 및 스트림 처리까지 데이터 분석 작업에 연산 엔진과 일관성 있는 API 수행까지 가능함.

- 작은 코드 조각이나 기존 라이브러리 사용해서 애플리케이션 구성 가능

- SQL 쿼리 읽기 -> 머신러닝 모델 평가라는 2개의 프로세스를 스파크 엔진이 병합해서 데이터 한 번만 조회 가능함.

- 책 내용 기준으론 2.x 를 사용하나, 현재 스파크 최신 버전은 3.5.3 임. (2024.10.27 기준)

- 하둡과의 차이?

    - 하둡은 HDFS (하둡 파일 시스템) + 컴퓨팅 (맵리듀스) 를 갖고 있으나, 둘 중 하나의 시스템만 사용하기 어려움.
    - 하지만 하둡은 다른 저장소 데이터에 접근하는 게 무척 어렵고, 연산 노드 및 저장소를 별도 구매하기 어려운 클라우드 환경 및 스트리밍 환경에서 사용 불가.
        - AWS에 하둡 Managed Solution이 별도로 있음. (그래도 직접 세팅할 수 있을 것 같은데?)

## 1.2 스파크 등장 배경

- 컴퓨터 성능 향상으로, 소스코드 최적화 안해도 자연적으로 성능이 점점 좋아졌음.
- 대규모 애플리케이션은 대부분 이런 변화에 맞춰 설계됨.
- 당장 하둡만 보더라도 맵 리듀스로 컴퓨팅 연산을 처리하게 되면 단계별로 맵리듀스 잡 개발 후, 클러스터에서 각 각 실행했음.
- 책 버전은 스파크 2.2 버전이지만, 현재 버전과 큰 차이가 있으므로 최신 버전으로 설치 후, 사용하는 것을 목표로함.
    - 하둡 버전도 있지만, 현재 하둡은 사용하고 있지 않으므로 PASS!
    
## 후기

- 스파크를 on-prem으로 설치하면 삭제하기 번거로우므로 docker-compose 기반으로 설치 예정
- 버전은 최대한 3.5 이상으로 설치하고자함.
- 아무래도 첫 챕터라 읽을 게 별로 없음. (왜 만들었고, 설계 철학은 무엇인지 등 등...)